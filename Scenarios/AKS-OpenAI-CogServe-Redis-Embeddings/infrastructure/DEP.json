{ "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.Resources/deployments/aksenvironmentdeploymentytt", "location": null, "name": "aksenvironmentdeploymentytt", "properties": { "correlationId": "9fed8487-af63-428c-9e20-aa1355e0d95e", "debugSetting": null, "dependencies": [ { "dependsOn": [ { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.Resources/deployments/aksconstruction", "resourceGroup": "trythisagain", "resourceName": "aksconstruction", "resourceType": "Microsoft.Resources/deployments" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-embeding", "resourceGroup": "trythisagain", "resourceName": "id-embeding", "resourceType": "Microsoft.ManagedIdentity/userAssignedIdentities" }, { "apiVersion": "2022-09-01", "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.Resources/deployments/aksconstruction", "resourceGroup": "trythisagain", "resourceName": "aksconstruction", "resourceType": "Microsoft.Resources/deployments" } ], "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-embeding/federatedIdentityCredentials/string", "resourceGroup": "trythisagain", "resourceName": "id-embeding/string", "resourceType": "Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials" }, { "dependsOn": [ { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-embeding", "resourceGroup": "trythisagain", "resourceName": "id-embeding", "resourceType": "Microsoft.ManagedIdentity/userAssignedIdentities" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.Resources/deployments/kvembedhhdingsy", "resourceGroup": "trythisagain", "resourceName": "kvembedhhdingsy", "resourceType": "Microsoft.Resources/deployments" }, { "apiVersion": "2023-01-31", "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-embeding", "resourceGroup": "trythisagain", "resourceName": "id-embeding", "resourceType": "Microsoft.ManagedIdentity/userAssignedIdentities" }, { "apiVersion": "2022-09-01", "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.Resources/deployments/kvembedhhdingsy", "resourceGroup": "trythisagain", "resourceName": "kvembedhhdingsy", "resourceType": "Microsoft.Resources/deployments" } ], "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.Resources/deployments/embedingKvRbac", "resourceGroup": "trythisagain", "resourceName": "embedingKvRbac", "resourceType": "Microsoft.Resources/deployments" } ], "duration": "PT14M26.7204162S", "error": null, "mode": "Incremental", "onErrorDeployment": null, "outputResources": [ { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.Authorization/policyAssignments/embedhhdingsy-Baseline", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.ContainerRegistry/registries/crembedhhdingsysdz3fvzpyr4o4", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.ContainerRegistry/registries/crembedhhdingsysdz3fvzpyr4o4/providers/Microsoft.Authorization/roleAssignments/ca318e2e-c848-56c2-8907-b0f71d06467f", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.ContainerRegistry/registries/crembedhhdingsysdz3fvzpyr4o4/providers/Microsoft.Insights/diagnosticSettings/acrDiags", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.ContainerService/managedClusters/aks-embedhhdingsy", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.ContainerService/managedClusters/aks-embedhhdingsy/agentPools/npuser01", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.ContainerService/managedClusters/aks-embedhhdingsy/providers/Microsoft.Authorization/roleAssignments/64f503fa-9d6c-54d6-9202-db06e8654f21", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.ContainerService/managedClusters/aks-embedhhdingsy/providers/Microsoft.Insights/diagnosticSettings/aksDiags", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.Insights/metricAlerts/Container CPU usage high for aks-embedhhdingsy CI-9", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.Insights/metricAlerts/Container CPU usage violates the configured threshold for aks-embedhhdingsy CI-19", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.Insights/metricAlerts/Container working set memory usage high for aks-embedhhdingsy CI-10", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.Insights/metricAlerts/Container working set memory usage violates the configured threshold for aks-embedhhdingsy CI-20", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.Insights/metricAlerts/Containers getting OOM killed for aks-embedhhdingsy CI-6", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.Insights/metricAlerts/Disk usage high for aks-embedhhdingsy CI-5", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.Insights/metricAlerts/Jobs completed more than 6 hours ago for aks-embedhhdingsy CI-11", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.Insights/metricAlerts/Node CPU utilization high for aks-embedhhdingsy CI-1", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.Insights/metricAlerts/Node working set memory utilization high for aks-embedhhdingsy CI-2", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.Insights/metricAlerts/Nodes in not ready status for aks-embedhhdingsy CI-3", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.Insights/metricAlerts/Persistent volume usage high for aks-embedhhdingsy CI-18", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.Insights/metricAlerts/Pods in failed state for aks-embedhhdingsy CI-4", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.Insights/metricAlerts/Pods not in ready state for aks-embedhhdingsy CI-8", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.Insights/metricAlerts/PV usage violates the configured threshold for aks-embedhhdingsy CI-21", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.Insights/metricAlerts/Restarting container count for aks-embedhhdingsy CI-7", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.Insights/scheduledQueryRules/Daily data cap breached for workspace log-embedhhdingsy CIQ-1", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.KeyVault/vaults/kv-appembedhhdingsyti6ue", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.KeyVault/vaults/kv-appembedhhdingsyti6ue/providers/Microsoft.Authorization/roleAssignments/fceb6447-e54d-5fa1-ad7d-0ec323e8ac2d", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.KeyVault/vaults/kv-appembedhhdingsyti6ue/secrets/openaiapikey", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-aks-embedhhdingsy", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-embeding", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-embeding/federatedIdentityCredentials/string", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.Network/virtualNetworks/vnet-embedhhdingsy", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.Network/virtualNetworks/vnet-embedhhdingsy/subnets/aks-sn/providers/Microsoft.Authorization/roleAssignments/2be1b5cd-ce63-5ef2-bdfb-3aba26faf431", "resourceGroup": "trythisagain" }, { "id": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.OperationalInsights/workspaces/log-embedhhdingsy", "resourceGroup": "trythisagain" } ], "outputs": { "aksClusterName": { "type": "String", "value": "aks-embedhhdingsy" }, "aksOidcIssuerUrl": { "type": "String", "value": "https://eastus.oic.prod-aks.azure.com/449fbe1d-9c99-4509-9014-4fd5cf25b014/0a40e744-9c14-464d-b0ca-c33333e893c7/" }, "credsinfo": { "type": "String", "value": "https://eastus.oic.prod-aks.azure.com/449fbe1d-9c99-4509-9014-4fd5cf25b014/0a40e744-9c14-464d-b0ca-c33333e893c7/" }, "idembedingappClientId": { "type": "String", "value": "d9dfaa08-355e-468a-b098-7bd93e1a6333" }, "idembedingappId": { "type": "String", "value": "/subscriptions/f37c6be5-84d0-4994-b205-fc8ffb9b5e7e/resourceGroups/trythisagain/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-embeding" }, "kvAppName": { "type": "String", "value": "kv-appembedhhdingsyti6ue" }, "nodeResourceGroup": { "type": "String", "value": "MC_trythisagain_aks-embedhhdingsy_eastus" } }, "parameters": { "api_key": { "type": "String", "value": "2336b35a61f042488fde56ee24138378" }, "location": { "type": "String", "value": "eastus" }, "nameseed": { "type": "String", "value": "embedhhdingsy" }, "signedinuser": { "type": "String", "value": "" } }, "parametersLink": null, "providers": [ { "id": null, "namespace": "Microsoft.ManagedIdentity", "providerAuthorizationConsentState": null, "registrationPolicy": null, "registrationState": null, "resourceTypes": [ { "aliases": null, "apiProfiles": null, "apiVersions": null, "capabilities": null, "defaultApiVersion": null, "locationMappings": null, "locations": [ "eastus" ], "properties": null, "resourceType": "userAssignedIdentities", "zoneMappings": null }, { "aliases": null, "apiProfiles": null, "apiVersions": null, "capabilities": null, "defaultApiVersion": null, "locationMappings": null, "locations": [ null ], "properties": null, "resourceType": "userAssignedIdentities/federatedIdentityCredentials", "zoneMappings": null } ] }, { "id": null, "namespace": "Microsoft.Resources", "providerAuthorizationConsentState": null, "registrationPolicy": null, "registrationState": null, "resourceTypes": [ { "aliases": null, "apiProfiles": null, "apiVersions": null, "capabilities": null, "defaultApiVersion": null, "locationMappings": null, "locations": [ null ], "properties": null, "resourceType": "deployments", "zoneMappings": null } ] } ], "provisioningState": "Succeeded", "templateHash": "6768675227408080744", "templateLink": null, "timestamp": "2023-06-23T18:28:35.967263+00:00", "validatedResources": null }, "resourceGroup": "trythisagain", "tags": null, "type": "Microsoft.Resources/deployments" }
